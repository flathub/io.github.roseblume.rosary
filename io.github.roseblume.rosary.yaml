id: io.github.roseblume.rosary
runtime: org.gnome.Platform
runtime-version: '46'
sdk: org.gnome.Sdk
command: rosary
finish-args:
  - --socket=fallback-x11
  - --socket=wayland
  - --device=dri
  - --share=ipc
modules:
  - name: rosaryx86
    buildsystem: simple
    build-commands:
      - ar -x *.deb
      - tar -xf data.tar.gz
      - install -Dm755 usr/bin/rosary /app/bin/rosary
      - install -Dm644 usr/share/applications/rosary.desktop /app/share/applications/io.github.roseblume.rosary.desktop
      - install -Dm644 applications/io.github.roseblume.rosary.desktop /app/share/applications/io.github.roseblume.rosary.desktop
      - install -Dm644 icons/hicolor/32x32/apps/rosary.png /app/share/icons/hicolor/32x32/apps/io.github.roseblume.rosary.png
      - install -Dm644 icons/hicolor/128x128/apps/rosary.png /app/share/icons/hicolor/128x128/apps/io.github.roseblume.rosary.png
      - install -Dm644 icons/hicolor/256x256@2/apps/rosary.png /app/share/icons/hicolor/256x256@2/apps/io.github.roseblume.rosary.png
      - install -Dm644 io.github.roseblume.rosary.xml /app/share/metainfo/io.github.roseblume.rosary.metainfo.xml
    sources:
      - type: file
        url: https://github.com/RoseBlume/Rosary/releases/download/v1.2.5/rosary_1.2.5_amd64.deb
        sha256: fae59ae7d1da63e1ade78d10e495c072b2a159ce657ba9cbce23677c209f2a99
        dest-filename: rosary.deb
        only-arches: [x86_64]
      - type: file
        url: https://github.com/RoseBlume/Rosary/releases/download/flatpak/rosary_1.2.5_arm64.deb
        sha256: 6a8f98a65e0e3bc4389819c4597df13967b8e9fd0042d4c8c7fe77cf0640d039
        dest-filename: rosary.deb
        only-arches: [aarch64]
      - type: file
        url: https://github.com/RoseBlume/Rosary/releases/download/flatpak/io.github.roseblume.rosary.xml
        sha256: 1e2b9ed99aaabf9d45117970a1b7429f2013414e88b7a96b59bf1fb0abd57fea
      - type: archive
        url: https://github.com/RoseBlume/Rosary/releases/download/flatpak/Flatpak.zip
        sha256: 623ff4eb401772f4945211ba487b5574564b8e0447b844f4d971603637984354
        dest-filename: rosary.zip

